# rvu-dash

Dashboard built on Streamlit to display RVU information for a provider group.

# How it works

_After several months of not working on this project, read this to get back up to speed on how the project works._

- Entry point: `/app.py`
- Authentication: `src/auth.py`

# Dev setup

- Codespaces container
  - Configured through `.devcontainer/devcontainer.json` *(generated by VSCode Codespaces: Add Dev Container Config Files... for python 3.10)*
  - As of 3/2023, per [Streamlit Cloud docs](https://docs.streamlit.io/streamlit-community-cloud/get-started/deploy-an-app), the Python 3.10 is the latest version supported
- Python and virtual environment
  - Python version specified in Codespaces container (see above)
  - Package management via [pipenv](https://pipenv-fork.readthedocs.io/en/latest/)
  - `bin/upgrade.sh`: upgrade pipenv, pip, and dependencies in Pipfile.
    - All dependencies in `Pipfile` are set to `= "*"`, so updating dependencies will pull in latest major/minor versions, including breaking changes.
  - `pipenv shell` to activate virtual env before doing work  
  - Pylance linter
    - Missing imports warnings: `VSCode Open Settings (UI) > Extensions > Pylance > Python > Analysis: Extra Paths`. Add `/home/vscode/.local/share/virtualenvs/<...>/lib/python3.10/site-packages`. Replace `<...>` with actual path.
- Run locally
  - `bin/start.sh`: start `streamlit` server inside pipenv. [Disable CORS in codespace](https://github.com/orgs/community/discussions/18038). The interactive commands are:
    ```
    pipenv shell
    streamlit run app.py --server.enableCORS false --server enableXsrfProtection false
    ```
- Deploy to Streamlit Cloud
  - Push to repo will automatically redeploy to https://rvu-dash.streamlit.app/
  - Manage app, including secrets, at https://share.streamlit.io/